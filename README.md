<div class="Box-sc-g0xbh4-0 bJMeLZ js-snippet-clipboard-copy-unpositioned" data-hpc="true"><article class="markdown-body entry-content container-lg" itemprop="text"><div class="markdown-heading" dir="auto"><h1 tabindex="-1" class="heading-element" dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“Mini-Gemini：挖掘多模态视觉语言模型的潜力”的官方仓库</font></font></h1><a id="user-content-official-repo-for-mini-gemini-mining-the-potential-of-multi-modality-vision-language-models" class="anchor" aria-label="永久链接：“Mini-Gemini：挖掘多模态视觉语言模型的潜力”的官方存储库" href="#official-repo-for-mini-gemini-mining-the-potential-of-multi-modality-vision-language-models"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto"><a href="https://mini-gemini.github.io/" rel="nofollow"><img src="https://camo.githubusercontent.com/cf1dae2363e32d85c846383e22e7fd74184899e8ff50223697bd5b026fd43330/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f50726f6a6563742d506167652d477265656e" data-canonical-src="https://img.shields.io/badge/Project-Page-Green" style="max-width: 100%;"></a>
<a href="http://103.170.5.190:7860/" rel="nofollow"><img src="https://camo.githubusercontent.com/c26c92c290dd07934e04059fa34189df885a8f4fbd6ac009c8ab8d59a638de2c/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f50726f6a6563742d44656d6f2d76696f6c6574" data-canonical-src="https://img.shields.io/badge/Project-Demo-violet" style="max-width: 100%;"></a>
<a href="https://huggingface.co/spaces/wcy1122/MGM" rel="nofollow"><img src="https://camo.githubusercontent.com/58b02cbb594dd2ef6de43c0f6e8cec4f18a65aa290115feb4f19124c5fd390ec/68747470733a2f2f696d672e736869656c64732e696f2f62616467652ff09fa4972d4f70656e253230496e2532305370616365732d626c75652e737667" data-canonical-src="https://img.shields.io/badge/🤗-Open%20In%20Spaces-blue.svg" style="max-width: 100%;"></a>
<a href="https://arxiv.org/pdf/2403.18814.pdf" rel="nofollow"><img src="https://camo.githubusercontent.com/36622932abbbd4c66f324e4cc02e7046b72a8537858d95eaad23e7ea84f379b0/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f50617065722d41727869762d726564" data-canonical-src="https://img.shields.io/badge/Paper-Arxiv-red" style="max-width: 100%;"></a>
<a href="https://huggingface.co/collections/YanweiLi/mgm-6603c50b9b43d044171d0854" rel="nofollow"><img src="https://camo.githubusercontent.com/e7bc2bf4569b8b082c2896d1b266768f61515495f1421a8c43c973b3dd8a38d0/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f25463025394625413425393725323048756767696e67253230466163652d4d6f64656c732d626c7565" data-canonical-src="https://img.shields.io/badge/%F0%9F%A4%97%20Hugging%20Face-Models-blue" style="max-width: 100%;"></a>
<a href="https://huggingface.co/collections/YanweiLi/mgm-data-660463ea895a01d8f367624e" rel="nofollow"><img src="https://camo.githubusercontent.com/03f0a6a2dba616c8f54e79fdce9f9f8d46b25806ea0463ffb71678e606e43431/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f25463025394625413425393725323048756767696e67253230466163652d446174612d677265656e" data-canonical-src="https://img.shields.io/badge/%F0%9F%A4%97%20Hugging%20Face-Data-green" style="max-width: 100%;"></a></p>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该框架支持一系列从 2B 到 34B 的密集和 MoE 大型语言模型 (LLM)，同时进行图像理解、推理和生成。我们基于 LLaVA 构建此存储库。</font></font></p>
<div class="markdown-heading" dir="auto"><h2 tabindex="-1" class="heading-element" dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">发布</font></font></h2><a id="user-content-release" class="anchor" aria-label="永久链接：发布" href="#release"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<ul dir="auto">
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[05/03] 🔥 我们支持基于LLaMA3的模型！欢迎来</font></font><a href="https://huggingface.co/collections/YanweiLi/mgm-6603c50b9b43d044171d0854" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这里</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">尝试</font><font style="vertical-align: inherit;">。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[04/15] 🔥</font></font><a href="https://huggingface.co/spaces/wcy1122/MGM" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">抱脸演示</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">上线。是13B-HD版本，欢迎观看和尝试。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[03/28] 🔥 小双子来了！我们发布</font></font><a href="https://arxiv.org/pdf/2403.18814.pdf" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">论文</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><a href="http://103.170.5.190:7860/" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">演示</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><a href="https://github.com/dvlab-research/MGM"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">代码</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><a href="https://huggingface.co/collections/YanweiLi/mgm-6603c50b9b43d044171d0854'" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模型</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><a href="https://huggingface.co/collections/YanweiLi/mgm-data-660463ea895a01d8f367624e" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数据</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">！</font></font></li>
</ul>
<div class="markdown-heading" dir="auto"><h2 tabindex="-1" class="heading-element" dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">内容</font></font></h2><a id="user-content-contents" class="anchor" aria-label="永久链接： 内容" href="#contents"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<ul dir="auto">
<li><a href="#demo"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">演示</font></font></a></li>
<li><a href="#install"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">安装</font></font></a></li>
<li><a href="#model"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模型</font></font></a></li>
<li><a href="#preparation"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">准备</font></font></a></li>
<li><a href="#train"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">火车</font></font></a></li>
<li><a href="#evaluation"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">评估</font></font></a></li>
<li><a href="#examples"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例子</font></font></a></li>
<li><a href="#citation"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">引文</font></font></a></li>
<li><a href="#acknowledgement"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">致谢</font></font></a></li>
<li><a href="#license"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">执照</font></font></a></li>
</ul>
<div class="markdown-heading" dir="auto"><h2 tabindex="-1" class="heading-element" dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">演示</font></font></h2><a id="user-content-demo" class="anchor" aria-label="永久链接：演示" href="#demo"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们在本节中提供了一些精选示例。更多示例可以在我们的</font></font><a href="https://mini-gemini.github.io/" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">项目页面</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">中找到。欢迎尝试我们的在线</font></font><a href="http://103.170.5.190:7860/" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">演示</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">！</font></font></p>
<div align="center" dir="auto">
<a target="_blank" rel="noopener noreferrer" href="/dvlab-research/MGM/blob/main/images/teaser.png"><img width="100%" src="/dvlab-research/MGM/raw/main/images/teaser.png" style="max-width: 100%;"></a>
</div>
<div class="markdown-heading" dir="auto"><h2 tabindex="-1" class="heading-element" dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">安装</font></font></h2><a id="user-content-install" class="anchor" aria-label="永久链接：安装" href="#install"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请按照以下说明安装所需的软件包。</font></font></p>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注意：如果您想使用2B版本，请确保安装最新版本的Transformers（&gt;=4.38.0）。</font></font></p>
<ol dir="auto">
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">克隆这个存储库</font></font></li>
</ol>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>git clone https://github.com/dvlab-research/MGM.git</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 tooltipped-no-delay d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="git clone https://github.com/dvlab-research/MGM.git" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<ol start="2" dir="auto">
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">安装包</font></font></li>
</ol>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>conda create -n mgm python=3.10 -y
conda activate mgm
<span class="pl-c1">cd</span> MGM
pip install --upgrade pip  <span class="pl-c"><span class="pl-c">#</span> enable PEP 660 support</span>
pip install -e <span class="pl-c1">.</span></pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 tooltipped-no-delay d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="conda create -n mgm python=3.10 -y
conda activate mgm
cd MGM
pip install --upgrade pip  # enable PEP 660 support
pip install -e ." tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<ol start="3" dir="auto">
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为培训案例安装附加包</font></font></li>
</ol>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>pip install ninja
pip install flash-attn --no-build-isolation</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 tooltipped-no-delay d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="pip install ninja
pip install flash-attn --no-build-isolation" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<div class="markdown-heading" dir="auto"><h2 tabindex="-1" class="heading-element" dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模型</font></font></h2><a id="user-content-model" class="anchor" aria-label="永久链接： 模型" href="#model"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该框架在概念上很简单：利用双视觉编码器来提供低分辨率视觉嵌入和高分辨率候选；提出补丁信息挖掘以在高分辨率区域和低分辨率视觉查询之间进行补丁级挖掘；法学硕士用于将文本与图像结合起来，同时进行理解和生成。</font></font></p>
<div align="center" dir="auto">
<a target="_blank" rel="noopener noreferrer" href="/dvlab-research/MGM/blob/main/images/pipeline.png"><img width="98%" src="/dvlab-research/MGM/raw/main/images/pipeline.png" style="max-width: 100%;"></a>
</div>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们提供所有针对第一阶段和第二阶段数据进行完全微调的模型：</font></font></p>
<table>
<thead>
<tr>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模型</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LR</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">人力资源</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">基础法学硕士</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">视觉编码器</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">微调数据</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">微调时间表</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">下载</font></font></th>
</tr>
</thead>
<tbody>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">米高梅-2B</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第336章</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第768章</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">杰玛-2B</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">夹子-L</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">米高梅指导</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">full_ft-1e</font></font></td>
<td><a href="https://huggingface.co/YanweiLi/MGM-2B" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">控制点</font></font></a></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">米高梅-7B</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第336章</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第768章</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">骆驼毛-7B-v1.5</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">夹子-L</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">米高梅指导</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">full_ft-1e</font></font></td>
<td><a href="https://huggingface.co/YanweiLi/MGM-7B" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">控制点</font></font></a></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">米高梅-13B</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第336章</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第768章</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">骆驼毛-13B-v1.5</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">夹子-L</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">米高梅指导</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">full_ft-1e</font></font></td>
<td><a href="https://huggingface.co/YanweiLi/MGM-13B" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">控制点</font></font></a></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">米高梅-8B</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第336章</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第768章</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LLaMA-3-8B-指导</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">夹子-L</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">米高梅指导</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">full_ft-1e</font></font></td>
<td><a href="https://huggingface.co/YanweiLi/MGM-8B" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">控制点</font></font></a></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">米高梅-8x7B</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第336章</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第768章</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mixtral-8x7B-Instruct-v0.1</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">夹子-L</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">米高梅指导</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">full_ft-1e</font></font></td>
<td><a href="https://huggingface.co/YanweiLi/MGM-8x7B" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">控制点</font></font></a></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">米高梅-34B</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第336章</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第768章</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nous-Hermes-2-Yi-34B</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">夹子-L</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">米高梅指导</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">full_ft-1e</font></font></td>
<td><a href="https://huggingface.co/YanweiLi/MGM-34B" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">控制点</font></font></a></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MGM-7B-HD</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第672章</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1536</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">骆驼毛-7B-v1.5</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">夹子-L</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">米高梅指导</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">full_ft-1e</font></font></td>
<td><a href="https://huggingface.co/YanweiLi/MGM-7B-HD" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">控制点</font></font></a></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MGM-13B-HD</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第672章</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1536</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">骆驼毛-13B-v1.5</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">夹子-L</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">米高梅指导</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">full_ft-1e</font></font></td>
<td><a href="https://huggingface.co/YanweiLi/MGM-13B-HD" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">控制点</font></font></a></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MGM-8B-HD</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第672章</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1536</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LLaMA-3-8B-指导</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">夹子-L</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">米高梅指导</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">full_ft-1e</font></font></td>
<td><a href="https://huggingface.co/YanweiLi/MGM-8B-HD" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">控制点</font></font></a></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MGM-8x7B-HD</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第672章</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1536</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mixtral-8x7B-Instruct-v0.1</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">夹子-L</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">米高梅指导</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">full_ft-1e</font></font></td>
<td><a href="https://huggingface.co/YanweiLi/MGM-8x7B-HD" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">控制点</font></font></a></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MGM-34B-HD</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第672章</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1536</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nous-Hermes-2-Yi-34B</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">夹子-L</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">米高梅指导</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">full_ft-1e</font></font></td>
<td><a href="https://huggingface.co/YanweiLi/MGM-34B-HD" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">控制点</font></font></a></td>
</tr>
</tbody>
</table>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以下仅是第一阶段数据的预训练权重：</font></font></p>
<table>
<thead>
<tr>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模型</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LR</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">人力资源</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">基础法学硕士</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">视觉编码器</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">预训练数据</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">微调时间表</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">下载</font></font></th>
</tr>
</thead>
<tbody>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">米高梅-2B</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第336章</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第768章</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">杰玛-2B</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">夹子-L</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">米高梅预训练</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1e</font></font></td>
<td><a href="https://huggingface.co/YanweiLi/MGM-Pretrain/tree/main/MGM-2B" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">控制点</font></font></a></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">米高梅-7B</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第336章</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第768章</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">骆驼毛-7B-v1.5</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">夹子-L</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">米高梅预训练</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1e</font></font></td>
<td><a href="https://huggingface.co/YanweiLi/MGM-Pretrain/tree/main/MGM-7B" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">控制点</font></font></a></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">米高梅-13B</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第336章</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第768章</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">骆驼毛-13B-v1.5</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">夹子-L</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">米高梅预训练</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1e</font></font></td>
<td><a href="https://huggingface.co/YanweiLi/MGM-Pretrain/tree/main/MGM-13B" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">控制点</font></font></a></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">米高梅-8x7B</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第336章</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第768章</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mixtral-8x7B-Instruct-v0.1</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">夹子-L</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">米高梅预训练</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1e</font></font></td>
<td><a href="https://huggingface.co/YanweiLi/MGM-Pretrain/tree/main/MGM-8x7B" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">控制点</font></font></a></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">米高梅-34B</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第336章</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第768章</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nous-Hermes-2-Yi-34B</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">夹子-L</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">米高梅预训练</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1e</font></font></td>
<td><a href="https://huggingface.co/YanweiLi/MGM-Pretrain/tree/main/MGM-34B" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">控制点</font></font></a></td>
</tr>
</tbody>
</table>
<div class="markdown-heading" dir="auto"><h2 tabindex="-1" class="heading-element" dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">准备</font></font></h2><a id="user-content-preparation" class="anchor" aria-label="永久链接：准备" href="#preparation"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div class="markdown-heading" dir="auto"><h3 tabindex="-1" class="heading-element" dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数据集</font></font></h3><a id="user-content-dataset" class="anchor" aria-label="永久链接：数据集" href="#dataset"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们为模型训练提供处理后的数据。对于模型预训练，请下载以下基于训练图像的数据并将其组织为：</font></font></p>
<p dir="auto"><code>-&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">意思是把数据放到本地文件夹中。</font></font></p>
<ul dir="auto">
<li><a href="https://huggingface.co/datasets/liuhaotian/LLaVA-Pretrain" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LLaVA 图片</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-&gt; </font></font><code>data/MGM-Pretrain/images</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">,</font></font><code>data/MGM-Finetune/llava/LLaVA-Pretrain/images</code></li>
<li><a href="https://github.com/FreedomIntelligence/ALLaVA"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ALLaVA 标题</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-&gt;</font></font><code>data/MGM-Pretrain/ALLaVA-4V</code></li>
</ul>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对于模型微调，请下载以下指令数据并将其整理为：</font></font></p>
<p dir="auto"><code>-&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">意思是把数据放到本地文件夹中。</font></font></p>
<ul dir="auto">
<li><a href="http://images.cocodataset.org/zips/train2017.zip" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">COCO火车2017</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -&gt;</font></font><code>data/MGM-Finetune/coco</code></li>
<li><a href="https://downloads.cs.stanford.edu/nlp/data/gqa/images.zip" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">质量保证</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-&gt;</font></font><code>data/MGM-Finetune/gqa</code></li>
<li><a href="https://drive.google.com/drive/folders/1_GYPY5UkUy7HIcR0zq3ZCFgeZN7BAfm_?usp=sharing" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OCR-VQA</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们将所有文件另存为</font></font><code>.jpg</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）-&gt;</font></font><code>data/MGM-Finetune/ocr_vqa</code></li>
<li><a href="https://dl.fbaipublicfiles.com/textvqa/images/train_val_images.zip" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TextVQA</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（不包括在训练中）-&gt;</font></font><code>data/MGM-Finetune/textvqa</code></li>
<li><a href="https://cs.stanford.edu/people/rak248/VG_100K_2/images.zip" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">VisualGenome 第 1 部分</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><a href="https://cs.stanford.edu/people/rak248/VG_100K_2/images2.zip" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">VisualGenome 第 2 部分</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-&gt;</font></font><code>data/MGM-Finetune/vg</code></li>
<li><a href="https://github.com/InternLM/InternLM-XComposer/blob/main/projects/ShareGPT4V/docs/Data.md"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">分享GPT4V-100K</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -&gt; </font></font><code>data/MGM-Finetune/sam</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>share_textvqa</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>wikiart</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>web-celebrity</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">,</font></font><code>web-landmark</code></li>
<li><a href="https://huggingface.co/datasets/laion/gpt4v-dataset" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">莱昂 GPT4V</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -&gt;</font></font><code>data/MGM-Finetune/gpt4v-dataset</code></li>
<li><a href="https://github.com/FreedomIntelligence/ALLaVA"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ALLaVA 说明</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-&gt;</font></font><code>data/MGM-Pretrain/ALLaVA-4V</code></li>
<li><a href="https://www.docvqa.org/datasets/docvqa" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文档VQA</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -&gt;</font></font><code>data/MGM-Finetune/docvqa</code></li>
<li><a href="https://github.com/vis-nlp/ChartQA"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图表QA</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -&gt;</font></font><code>data/MGM-Finetune/chartqa</code></li>
<li><a href="https://github.com/kushalkafle/DVQA_dataset"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DVQA-</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &gt;</font></font><code>data/MGM-Finetune/dvqa</code></li>
<li><a href="https://allenai.org/data/diagrams" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AI2D-</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &gt;</font></font><code>data/MGM-Finetune/ai2d</code></li>
</ul>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对于模型评估，请点击此</font></font><a href="https://github.com/haotian-liu/LLaVA/blob/main/docs/Evaluation.md"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">链接</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">进行准备。我们使用一些额外的基准进行评估。请下载以下基于图像的训练数据并将其组织为：</font></font></p>
<p dir="auto"><code>-&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">意思是把数据放到本地文件夹中。</font></font></p>
<ul dir="auto">
<li><a href="https://mmmu-benchmark.github.io/" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MMMU-</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &gt;</font></font><code>data/MGM-Eval/MMMU</code></li>
<li><a href="https://github.com/open-compass/mmbench/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MMB-</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &gt;</font></font><code>data/MGM-Eval/MMB</code></li>
<li><a href="https://mathvista.github.io/" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数学维斯塔</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-&gt;</font></font><code>data/MGM-Eval/MathVista</code></li>
</ul>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请将预训练数据、微调数据和评估数据放入  </font><a href="#structure"><font style="vertical-align: inherit;">Structure</font></a></font><code>MGM-Pretrain</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">后面的、</font></font><code>MGM-Finetune</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><code>MGM-Eval</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">子集中</font><font style="vertical-align: inherit;">。</font></font><a href="#structure"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font></p>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">有关元信息，请下载以下文件并按</font></font><a href="#structure"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">结构</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">中的方式组织它们。</font></font></p>
<table>
<thead>
<tr>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数据文件名</font></font></th>
<th align="right"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">尺寸</font></font></th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://huggingface.co/datasets/YanweiLi/MGM-Pretrain" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mgm_pretrain.json</font></font></a></td>
<td align="right"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.68克</font></font></td>
</tr>
<tr>
<td><a href="https://huggingface.co/datasets/YanweiLi/MGM-Instruction" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mgm_instruction.json</font></font></a></td>
<td align="right"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.79克</font></font></td>
</tr>
<tr>
<td><a href="https://huggingface.co/datasets/YanweiLi/MGM-Instruction" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mgm_ Generation_pure_text.json</font></font></a></td>
<td align="right"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0.04克</font></font></td>
</tr>
</tbody>
</table>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">重要提示：</font></font><code>mgm_generation_pure_text.json</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是与生成相关的子集。</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不要</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将其合并，</font></font><code>mgm_instruction.json</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">因为它已经包含在其中。您可以将此文件与您自定义的 LLM/VLM SFT 数据集合并，以启用推理生成功能。</font></font></p>
<div class="markdown-heading" dir="auto"><h3 tabindex="-1" class="heading-element" dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">预训练权重</font></font></h3><a id="user-content-pretrained-weights" class="anchor" aria-label="永久链接：预训练权重" href="#pretrained-weights"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们建议用户从以下链接下载预训练权重</font></font><a href="https://huggingface.co/openai/clip-vit-large-patch14-336" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CLIP-Vit-L-336</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><a href="https://huggingface.co/laion/CLIP-convnext_large_d_320.laion2B-s29B-b131K-ft-soup" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OpenCLIP-ConvNeXt-L</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><a href="https://huggingface.co/google/gemma-2b-it" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gemma-2b-it</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><a href="https://huggingface.co/lmsys/vicuna-7b-v1.5" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vicuna-7b-v1.5</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><a href="https://huggingface.co/lmsys/vicuna-13b-v1.5" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vicuna-13b-v1.5</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><a href="https://huggingface.co/mistralai/Mixtral-8x7B-Instruct-v0.1" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mixtral- 8x7B-Instruct-v0.1</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><a href="https://huggingface.co/NousResearch/Nous-Hermes-2-Yi-34B" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nous-Hermes-2-Yi-34B</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，并将它们放入</font></font><code>model_zoo</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以下</font></font><a href="#structure"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&ZeroWidthSpace;&ZeroWidthSpace;Structure</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">中。</font></font></p>
<div class="markdown-heading" dir="auto"><h3 tabindex="-1" class="heading-element" dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">结构</font></font></h3><a id="user-content-structure" class="anchor" aria-label="永久链接：结构" href="#structure"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">训练前应按如下方式组织文件夹结构。</font></font></p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto"><pre class="notranslate"><code>MGM
├── mgm
├── scripts
├── work_dirs
│   ├── MGM
│   │   ├── MGM-2B
│   │   ├── ...
├── model_zoo
│   ├── LLM
│   │   ├── gemma
│   │   │   ├── gemma-2b-it
│   │   ├── vicuna
│   │   │   ├── 7B-V1.5
│   │   │   ├── 13B-V1.5
│   │   ├── llama-3
│   │   │   ├── Meta-Llama-3-8B-Instruct
│   │   │   ├── Meta-Llama-3-70B-Instruct
│   │   ├── mixtral
│   │   │   ├── Mixtral-8x7B-Instruct-v0.1
│   │   ├── Nous-Hermes-2-Yi-34B
│   ├── OpenAI
│   │   ├── clip-vit-large-patch14-336
│   │   ├── openclip-convnext-large-d-320-laion2B-s29B-b131K-ft-soup
├── data
│   ├── MGM-Pretrain
│   │   ├── mgm_pretrain.json
│   │   ├── images
│   │   ├── ALLaVA-4V
│   ├── MGM-Finetune
│   │   ├── mgm_instruction.json
│   │   ├── llava
│   │   ├── coco
│   │   ├── gqa
│   │   ├── ocr_vqa
│   │   ├── textvqa
│   │   ├── vg
│   │   ├── gpt4v-dataset
│   │   ├── sam
│   │   ├── share_textvqa
│   │   ├── wikiart
│   │   ├── web-celebrity
│   │   ├── web-landmark
│   │   ├── ALLaVA-4V
│   │   ├── docvqa
│   │   ├── chartqa
│   │   ├── dvqa
│   │   ├── ai2d
│   ├── MGM-Eval
│   │   ├── MMMU
│   │   ├── MMB
│   │   ├── MathVista
│   │   ├── ...
</code></pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 tooltipped-no-delay d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="MGM
├── mgm
├── scripts
├── work_dirs
│   ├── MGM
│   │   ├── MGM-2B
│   │   ├── ...
├── model_zoo
│   ├── LLM
│   │   ├── gemma
│   │   │   ├── gemma-2b-it
│   │   ├── vicuna
│   │   │   ├── 7B-V1.5
│   │   │   ├── 13B-V1.5
│   │   ├── llama-3
│   │   │   ├── Meta-Llama-3-8B-Instruct
│   │   │   ├── Meta-Llama-3-70B-Instruct
│   │   ├── mixtral
│   │   │   ├── Mixtral-8x7B-Instruct-v0.1
│   │   ├── Nous-Hermes-2-Yi-34B
│   ├── OpenAI
│   │   ├── clip-vit-large-patch14-336
│   │   ├── openclip-convnext-large-d-320-laion2B-s29B-b131K-ft-soup
├── data
│   ├── MGM-Pretrain
│   │   ├── mgm_pretrain.json
│   │   ├── images
│   │   ├── ALLaVA-4V
│   ├── MGM-Finetune
│   │   ├── mgm_instruction.json
│   │   ├── llava
│   │   ├── coco
│   │   ├── gqa
│   │   ├── ocr_vqa
│   │   ├── textvqa
│   │   ├── vg
│   │   ├── gpt4v-dataset
│   │   ├── sam
│   │   ├── share_textvqa
│   │   ├── wikiart
│   │   ├── web-celebrity
│   │   ├── web-landmark
│   │   ├── ALLaVA-4V
│   │   ├── docvqa
│   │   ├── chartqa
│   │   ├── dvqa
│   │   ├── ai2d
│   ├── MGM-Eval
│   │   ├── MMMU
│   │   ├── MMB
│   │   ├── MathVista
│   │   ├── ..." tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<div class="markdown-heading" dir="auto"><h2 tabindex="-1" class="heading-element" dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">火车</font></font></h2><a id="user-content-train" class="anchor" aria-label="永久链接： 火车" href="#train"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">训练过程由两个阶段组成：（1）特征对齐阶段：桥接视觉和语言标记； (2)指令调优阶段：教导模型遵循多模态指令。</font></font></p>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们的模型在 8 个具有 80GB 内存的 A100 GPU 上进行训练。要在更少的 GPU 上进行训练，您可以相应地减少</font></font><code>per_device_train_batch_size</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和增加</font></font><code>gradient_accumulation_steps</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。始终保持全局批量大小相同：</font></font><code>per_device_train_batch_size</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">x </font></font><code>gradient_accumulation_steps</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">x </font></font><code>num_gpus</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请确保在培训前的</font></font><a href="#preparation"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">准备工作</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">中下载并整理数据。</font></font></p>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注意：请设置</font></font><code>hostfile</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2 台机器训练和</font></font><code>hostfile_4</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4 台机器训练。</font></font></p>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果您想训练和微调框架，请对图像大小为 336 的 MGM-7B 运行以下命令：</font></font></p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>bash scripts/llama/train/stage_1_2_full_v7b_336_hr_768.sh</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 tooltipped-no-delay d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="bash scripts/llama/train/stage_1_2_full_v7b_336_hr_768.sh" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或者对于图像尺寸为 336 的 MGM-13B：</font></font></p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>bash scripts/llama/train/stage_1_2_full_v13b_336_hr_768.sh</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 tooltipped-no-delay d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="bash scripts/llama/train/stage_1_2_full_v13b_336_hr_768.sh" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">因为我们重复使用了 MGM-7B 中预先训练的投影仪权重，所以您可以直接使用图像大小为 672 的 MGM-7B-HD 进行第 2 阶段指令调整：</font></font></p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>bash scripts/llama/train/stage_2_full_v7b_672_hr_1536.sh</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 tooltipped-no-delay d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="bash scripts/llama/train/stage_2_full_v7b_672_hr_1536.sh" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto"><font style="vertical-align: inherit;"></font><code>gemma</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请在、</font></font><code>llama</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><code>mixtral</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><code>yi</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">中</font><font style="vertical-align: inherit;">查找更多培训脚本</font></font><code>scripts/</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p>
<div class="markdown-heading" dir="auto"><h2 tabindex="-1" class="heading-element" dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">评估</font></font></h2><a id="user-content-evaluation" class="anchor" aria-label="永久链接：评估" href="#evaluation"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们对几个基于图像的基准进行评估。请下载</font></font><a href="#preparation"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">准备</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">后的评估数据</font><font style="vertical-align: inherit;">并按</font></font><a href="#structure"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">结构</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">中的方式组织它们。</font></font></p>
<table>
<thead>
<tr>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模型</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">法学硕士</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">资源。</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">关联</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文本VQA</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MMB</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">微机电系统</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MM-兽医</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MMMU_val</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MMMU_测试</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数学维斯塔</font></font></th>
</tr>
</thead>
<tbody>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">米高梅-2B</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">杰玛-2B</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第336章</font></font></td>
<td><a href="https://huggingface.co/YanweiLi/MGM-2B" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">控制点</font></font></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">56.2</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">59.8</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1341/312</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">31.1</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">31.7</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">29.1</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">29.4</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">米高梅-7B</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">骆驼毛-7B-v1.5</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第336章</font></font></td>
<td><a href="https://huggingface.co/YanweiLi/MGM-7B" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">控制点</font></font></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">65.2</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">69.3</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1523/316</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">40.8</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">36.1</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">32.8</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">31.4</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">米高梅-13B</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">骆驼毛-13B-v1.5</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第336章</font></font></td>
<td><a href="https://huggingface.co/YanweiLi/MGM-13B" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">控制点</font></font></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">65.9</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">68.5</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1565/322</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">46.0</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">38.1</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">33.5</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">37.0</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">米高梅-8B</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LLaMA-3-8B-指导</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第336章</font></font></td>
<td><a href="https://huggingface.co/YanweiLi/MGM-8B" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">控制点</font></font></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">67.6</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">72.7</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1606/341</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">47.3</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">38.2</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">36.3</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">--</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">米高梅-8x7B</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mixtral-8x7B-Instruct-v0.1</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第336章</font></font></td>
<td><a href="https://huggingface.co/YanweiLi/MGM-8x7B" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">控制点</font></font></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">69.2</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">75.6</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1639/379</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">45.8</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">41.8</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">37.1</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">41.8</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">米高梅-34B</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nous-Hermes-2-Yi-34B</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第336章</font></font></td>
<td><a href="https://huggingface.co/YanweiLi/MGM-34B" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">控制点</font></font></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">70.1</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">79.6</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1666/439</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">53.0</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">48.7</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">43.6</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">38.9</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MGM-7B-HD</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">骆驼毛-7B-v1.5</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第672章</font></font></td>
<td><a href="https://huggingface.co/YanweiLi/MGM-7B-HD" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">控制点</font></font></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">68.4</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">65.8</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1546/319</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">41.3</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">36.8</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">32.9</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">32.2</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MGM-13B-HD</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">骆驼毛-13B-v1.5</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第672章</font></font></td>
<td><a href="https://huggingface.co/YanweiLi/MGM-13B-HD" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">控制点</font></font></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">70.2</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">68.6</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1597/320</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">50.5</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">37.3</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">35.1</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">37.0</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MGM-8B-HD</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LLaMA-3-8B-指导</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第672章</font></font></td>
<td><a href="https://huggingface.co/YanweiLi/MGM-8B-HD" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">控制点</font></font></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">71.6</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">--</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1532/357</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">--</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">37.0</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">--</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">--</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MGM-8x7B-HD</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mixtral-8x7B-Instruct-v0.1</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第672章</font></font></td>
<td><a href="https://huggingface.co/YanweiLi/MGM-8x7B-HD" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">控制点</font></font></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">71.9</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">74.7</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1633/356</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">53.5</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">40.0</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">37.0</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">43.1</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MGM-34B-HD</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nous-Hermes-2-Yi-34B</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第672章</font></font></td>
<td><a href="https://huggingface.co/YanweiLi/MGM-34B-HD" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">控制点</font></font></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">74.1</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">80.6</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1659/482</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">59.3</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">48.0</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">44.9</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">43.3</font></font></td>
</tr>
</tbody>
</table>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果您想在基于图像的基准上评估模型，请使用 中的脚本</font></font><code>scripts/MODEL_PATH/eval</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。例如，使用 MGM-7B-HD 运行以下命令进行 TextVQA 评估：</font></font></p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>bash scripts/llama/eval/textvqa.sh</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 tooltipped-no-delay d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="bash scripts/llama/eval/textvqa.sh" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请在 中找到更多评估脚本</font></font><code>scripts/MODEL_PATH</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p>
<div class="markdown-heading" dir="auto"><h3 tabindex="-1" class="heading-element" dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CLI 推理</font></font></h3><a id="user-content-cli-inference" class="anchor" aria-label="永久链接：CLI 推理" href="#cli-inference"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">无需 Gradio 界面即可与图像聊天。它还支持多个 GPU、4 位和 8 位量化推理。具有 4 位量化。请确保您已安装</font></font><a href="https://github.com/huggingface/diffusers"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">扩散器</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><a href="https://github.com/PaddlePaddle/PaddleOCR/blob/release/2.7/README_en.md"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PaddleOCR</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（仅为了更好的 OCR 体验），并尝试执行图像和生成推理：</font></font></p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>python -m mgm.serve.cli \
    --model-path work_dirs/MGM/MGM-13B-HD \
    --image-file <span class="pl-k">&lt;</span>path to your image<span class="pl-k">&gt;</span></pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 tooltipped-no-delay d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="python -m mgm.serve.cli \
    --model-path work_dirs/MGM/MGM-13B-HD \
    --image-file <path to your image>" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或者尝试使用 OCR 获得更好的体验（确保您已经安装了</font></font><a href="https://github.com/PaddlePaddle/PaddleOCR/blob/release/2.7/README_en.md"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PaddleOCR</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）：</font></font></p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>python -m mgm.serve.cli \
    --model-path work_dirs/MGM/MGM-13B-HD \
    --image-file <span class="pl-k">&lt;</span>path to your image<span class="pl-k">&gt;</span> \
    --ocr</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 tooltipped-no-delay d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="python -m mgm.serve.cli \
    --model-path work_dirs/MGM/MGM-13B-HD \
    --image-file <path to your image> \
    --ocr" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或者尝试使用生成进行推理（确保您已经安装了</font></font><a href="https://github.com/huggingface/diffusers"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">扩散器</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）：</font></font></p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>python -m mgm.serve.cli \
    --model-path work_dirs/MGM/MGM-13B-HD \
    --image-file <span class="pl-k">&lt;</span>path to your image<span class="pl-k">&gt;</span> \
    --gen</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 tooltipped-no-delay d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="python -m mgm.serve.cli \
    --model-path work_dirs/MGM/MGM-13B-HD \
    --image-file <path to your image> \
    --gen" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">您还可以尝试 8 位甚至 4 位以进行高效推理</font></font></p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>python -m mgm.serve.cli \
    --model-path work_dirs/MGM/MGM-13B-HD \
    --image-file <span class="pl-k">&lt;</span>path to your image<span class="pl-k">&gt;</span> \
    --gen
    --load-8bit</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 tooltipped-no-delay d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="python -m mgm.serve.cli \
    --model-path work_dirs/MGM/MGM-13B-HD \
    --image-file <path to your image> \
    --gen
    --load-8bit" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<div class="markdown-heading" dir="auto"><h3 tabindex="-1" class="heading-element" dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">渐变网页用户界面</font></font></h3><a id="user-content-gradio-web-ui" class="anchor" aria-label="永久链接：Gradio Web UI" href="#gradio-web-ui"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在这里，我们采用与 LLaVA 类似的 Gradio UI 为我们的模型提供用户友好的界面。要在本地启动 Gradio 演示，请一一运行以下命令。如果您计划启动多个模型工作人员以在不同检查点之间进行比较，则只需启动控制器和 Web 服务器</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一次</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p>
<div class="markdown-heading" dir="auto"><h4 tabindex="-1" class="heading-element" dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">启动控制器</font></font></h4><a id="user-content-launch-a-controller" class="anchor" aria-label="永久链接：启动控制器" href="#launch-a-controller"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>python -m mgm.serve.controller --host 0.0.0.0 --port 10000</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 tooltipped-no-delay d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="python -m mgm.serve.controller --host 0.0.0.0 --port 10000" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<div class="markdown-heading" dir="auto"><h4 tabindex="-1" class="heading-element" dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">启动 gradio Web 服务器。</font></font></h4><a id="user-content-launch-a-gradio-web-server" class="anchor" aria-label="永久链接：启动 gradio Web 服务器。" href="#launch-a-gradio-web-server"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>python -m mgm.serve.gradio_web_server --controller http://localhost:10000 --model-list-mode reload</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 tooltipped-no-delay d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="python -m mgm.serve.gradio_web_server --controller http://localhost:10000 --model-list-mode reload" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">您刚刚启动了 Gradio Web 界面。现在，您可以打开 Web 界面，并将 URL 打印在屏幕上。您可能会注意到模型列表中没有模型。别担心，我们还没有推出任何劳模。当您启动模型工作人员时，它将自动更新。</font></font></p>
<div class="markdown-heading" dir="auto"><h4 tabindex="-1" class="heading-element" dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">开展劳动模范活动</font></font></h4><a id="user-content-launch-a-model-worker" class="anchor" aria-label="永久链接：启动模范工人" href="#launch-a-model-worker"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这是</font><font style="vertical-align: inherit;">在 GPU 上执行推理的实际</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">工作程序</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。每个工作人员负责 中指定的单个模型</font></font><code>--model-path</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>python -m mgm.serve.model_worker --host 0.0.0.0 --controller http://localhost:10000 --port 40000 --worker http://localhost:40000 --model-path work_dirs/MGM/MGM-13B-HD</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 tooltipped-no-delay d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="python -m mgm.serve.model_worker --host 0.0.0.0 --controller http://localhost:10000 --port 40000 --worker http://localhost:40000 --model-path work_dirs/MGM/MGM-13B-HD" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">等到进程完成加载模型，您会看到“Uvicorn running on ...”。现在，刷新您的 Gradio Web UI，您将在模型列表中看到刚刚启动的模型。</font></font></p>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">您可以根据需要启动任意数量的工作程序，并在同一 Gradio 界面中比较不同的模型。请保持</font></font><code>--controller</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不变，并将 和 修改</font></font><code>--port</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为</font></font><code>--worker</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">每个worker的不同端口号。</font></font></p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>python -m mgm.serve.model_worker --host 0.0.0.0 --controller http://localhost:10000 --port <span class="pl-k">&lt;</span>different from 40000, say <span class="pl-k">40001&gt;</span> --worker http://localhost:<span class="pl-k">&lt;</span>change accordingly, i.e. <span class="pl-k">40001&gt;</span> --model-path work_dirs/MGM/MGM-34B-HD</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 tooltipped-no-delay d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="python -m mgm.serve.model_worker --host 0.0.0.0 --controller http://localhost:10000 --port <different from 40000, say 40001> --worker http://localhost:<change accordingly, i.e. 40001> --model-path work_dirs/MGM/MGM-34B-HD" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果您使用的是带有 M1 或 M2 芯片的 Apple 设备，则可以使用标志指定 mps 设备</font></font><code>--device</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font><code>--device mps</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p>
<div class="markdown-heading" dir="auto"><h4 tabindex="-1" class="heading-element" dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">启动模型工作人员（多个 GPU，当 GPU VRAM &lt;= 24GB 时）</font></font></h4><a id="user-content-launch-a-model-worker-multiple-gpus-when-gpu-vram--24gb" class="anchor" aria-label="永久链接：启动模型工作线程（多个 GPU，当 GPU VRAM <= 24GB 时）" href="#launch-a-model-worker-multiple-gpus-when-gpu-vram--24gb"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果您的 GPU 的 VRAM 小于 24GB（例如 RTX 3090、RTX 4090 等），您可以尝试使用多个 GPU 运行它。如果您有多个 GPU，我们最新的代码库将自动尝试使用多个 GPU。您可以指定要使用哪些 GPU </font></font><code>CUDA_VISIBLE_DEVICES</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。下面是使用前两个 GPU 运行的示例。</font></font></p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>CUDA_VISIBLE_DEVICES=0,1 python -m mgm.serve.model_worker --host 0.0.0.0 --controller http://localhost:10000 --port 40000 --worker http://localhost:40000 --model-path work_dirs/MGM/MGM-13B-HD</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 tooltipped-no-delay d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="CUDA_VISIBLE_DEVICES=0,1 python -m mgm.serve.model_worker --host 0.0.0.0 --controller http://localhost:10000 --port 40000 --worker http://localhost:40000 --model-path work_dirs/MGM/MGM-13B-HD" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<div class="markdown-heading" dir="auto"><h4 tabindex="-1" class="heading-element" dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">启动模型工作者（4位、8位推理、量化）</font></font></h4><a id="user-content-launch-a-model-worker-4-bit-8-bit-inference-quantized" class="anchor" aria-label="永久链接：启动模型工作者（4 位、8 位推理、量化）" href="#launch-a-model-worker-4-bit-8-bit-inference-quantized"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">您可以使用量化位（4 位、8 位）启动模型工作线程，这样您就可以在减少 GPU 内存占用的情况下运行推理。请注意，使用量化位进行的推理可能不如全精度模型准确。只需将</font></font><code>--load-4bit</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或附加</font></font><code>--load-8bit</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">到</font><font style="vertical-align: inherit;">您正在执行的</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模型工作器</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令即可。下面是使用 4 位量化运行的示例。</font></font></p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto"><pre>python -m mgm.serve.model_worker --host 0.0.0.0 --controller http://localhost:10000 --port 40000 --worker http://localhost:40000 --model-path work_dirs/MGM/MGM-13B-HD --load-4bit</pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 tooltipped-no-delay d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="python -m mgm.serve.model_worker --host 0.0.0.0 --controller http://localhost:10000 --port 40000 --worker http://localhost:40000 --model-path work_dirs/MGM/MGM-13B-HD --load-4bit" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<div class="markdown-heading" dir="auto"><h2 tabindex="-1" class="heading-element" dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例子</font></font></h2><a id="user-content-examples" class="anchor" aria-label="永久链接：示例" href="#examples"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们在本节中提供了一些示例。更多示例可以在我们的</font></font><a href="https://mini-gemini.github.io/" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">项目页面</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">中找到。</font></font></p>
<div class="markdown-heading" dir="auto"><h3 tabindex="-1" class="heading-element" dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">高分辨率理解</font></font></h3><a id="user-content-hi-resolution-understanding" class="anchor" aria-label="永久链接：高分辨率理解" href="#hi-resolution-understanding"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div align="center" dir="auto">
<a target="_blank" rel="noopener noreferrer" href="/dvlab-research/MGM/blob/main/images/demo_und.png"><img width="98%" src="/dvlab-research/MGM/raw/main/images/demo_und.png" style="max-width: 100%;"></a>
</div>
<div class="markdown-heading" dir="auto"><h3 tabindex="-1" class="heading-element" dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">推理生成</font></font></h3><a id="user-content-generation-with-reasoning" class="anchor" aria-label="永久链接：推理生成" href="#generation-with-reasoning"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div align="center" dir="auto">
<a target="_blank" rel="noopener noreferrer" href="/dvlab-research/MGM/blob/main/images/demo_gen.png"><img width="98%" src="/dvlab-research/MGM/raw/main/images/demo_gen.png" style="max-width: 100%;"></a>
</div>
<div class="markdown-heading" dir="auto"><h2 tabindex="-1" class="heading-element" dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">引文</font></font></h2><a id="user-content-citation" class="anchor" aria-label="永久链接：引文" href="#citation"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果您发现此存储库对您的研究有用，请考虑引用该论文</font></font></p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto"><pre class="notranslate"><code>@article{li2024mgm,
  title={Mini-Gemini: Mining the Potential of Multi-modality Vision Language Models},
  author={Li, Yanwei and Zhang, Yuechen and Wang, Chengyao and Zhong, Zhisheng and Chen, Yixin and Chu, Ruihang and Liu, Shaoteng and Jia, Jiaya},
  journal={arXiv:2403.18814},
  year={2023}
}
</code></pre><div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 tooltipped-no-delay d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w" value="@article{li2024mgm,
  title={Mini-Gemini: Mining the Potential of Multi-modality Vision Language Models},
  author={Li, Yanwei and Zhang, Yuechen and Wang, Chengyao and Zhong, Zhisheng and Chen, Yixin and Chu, Ruihang and Liu, Shaoteng and Jia, Jiaya},
  journal={arXiv:2403.18814},
  year={2023}
}" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div></div>
<div class="markdown-heading" dir="auto"><h2 tabindex="-1" class="heading-element" dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">致谢</font></font></h2><a id="user-content-acknowledgement" class="anchor" aria-label="永久链接：致谢" href="#acknowledgement"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该项目不隶属于 Google LLC。</font></font></p>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们要感谢以下存储库所做的出色工作：</font></font></p>
<ul dir="auto">
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这项工作是建立在</font></font><a href="https://github.com/haotian-liu/LLaVA"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LLaVA</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">之上的。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这项工作利用了</font></font><a href="https://huggingface.co/google/gemma-2b-it" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gemma</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><a href="https://github.com/lm-sys/FastChat"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vicuna</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><a href="https://huggingface.co/mistralai/Mixtral-8x7B-Instruct-v0.1" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mixtral</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><a href="https://huggingface.co/NousResearch/Nous-Hermes-2-Yi-34B" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nous-Hermes</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的法学硕士。</font></font></li>
</ul>
<div class="markdown-heading" dir="auto"><h2 tabindex="-1" class="heading-element" dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">执照</font></font></h2><a id="user-content-license" class="anchor" aria-label="永久链接：许可证" href="#license"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto"><a href="https://github.com/dvlab-research/MGM/blob/main/LICENSE"><img src="https://camo.githubusercontent.com/b0722007faae62c28b144ac9283b43c411cfc4ea8c11c113f97d169a5f13d4c3/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f436f64652532304c6963656e73652d4170616368655f322e302d79656c6c6f772e737667" alt="代码许可" data-canonical-src="https://img.shields.io/badge/Code%20License-Apache_2.0-yellow.svg" style="max-width: 100%;"></a>
<a href="https://github.com/dvlab-research/MGM/blob/main/DATA_LICENSE"><img src="https://camo.githubusercontent.com/0741dad5cd6347a14121ebd0c3a8a5ccf372861c3af8dad73f5187e83921bbb2/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f446174612532304c6963656e73652d434325323042792532304e43253230342e302d6f72616e67652e737667" alt="数据许可" data-canonical-src="https://img.shields.io/badge/Data%20License-CC%20By%20NC%204.0-orange.svg" style="max-width: 100%;"></a>
<a href="https://github.com/dvlab-research/MGM/blob/main/WEIGHT_LICENSE"><img src="https://camo.githubusercontent.com/5a7bf7f81a96d31ffa794134d8b6960124e8b540e3e45e6f120e81235d182ae6/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f5765696768742532304c6963656e73652d434325323042792532304e43253230342e302d726564" alt="重量许可证" data-canonical-src="https://img.shields.io/badge/Weight%20License-CC%20By%20NC%204.0-red" style="max-width: 100%;"></a></p>
<p dir="auto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数据和检查点仅供研究使用并获得许可。它们还仅限于遵循 LLaVA、LLaMA、Vicuna 和 GPT-4 许可协议的使用。该数据集为 CC BY NC 4.0（仅允许非商业用途），使用该数据集训练的模型不应在研究目的之外使用。</font></font></p>
</article></div>
